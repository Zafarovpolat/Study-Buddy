# Lecto ‚Äî –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-12-11  
> **–°—Ç–∞—Ç—É—Å**: MVP –≥–æ—Ç–æ–≤ (~97%), —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ì–æ—Ç–æ–≤–æ (Phase 1 ‚Äî MVP)

#### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (PDF, DOCX, TXT, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- [x] OCR –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Gemini Vision
- [x] AI –æ–±—Ä–∞–±–æ—Ç–∫–∞: Smart Notes, TL;DR, –¢–µ—Å—Ç—ã, –ì–ª–æ—Å—Å–∞—Ä–∏–π, –ö–∞—Ä—Ç–æ—á–∫–∏
- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–º—ã
- [x] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä AI-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–µ—Å—Ç—ã —Å –±–∞–ª–ª–∞–º–∏, –∫–∞—Ä—Ç–æ—á–∫–∏ —Å flip)
- [x] Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ WebApp

#### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- [x] Free —Ç–∞—Ä–∏—Ñ —Å –ª–∏–º–∏—Ç–æ–º 3 –º–∞—Ç–µ—Ä–∏–∞–ª–∞/–¥–µ–Ω—å
- [x] Pro –ø–æ–¥–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ Telegram Stars
- [x] –ü–æ–∫–∞–∑ –ª–∏–º–∏—Ç–æ–≤ –∏ Pro-–±–∞–Ω–Ω–µ—Ä

#### –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø
- [x] –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –ø–æ –∫–æ–¥—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [x] –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≥—Ä—É–ø–ø—ã
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤ –≥—Ä—É–ø–ø—É
- [x] –ü–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö
- [x] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–¥–ª—è owner)
- [x] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ `/start ref_XXX` ‚Äî –∑–∞—Å—á—ë—Ç —Ä–µ—Ñ–µ—Ä–∞–ª–∞
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ `/start group_XXX` ‚Äî –∞–≤—Ç–æ–≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
- [x] –í—ã–¥–∞—á–∞ Pro –∑–∞ 5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

#### UI/UX
- [x] –ü–∞–ø–∫–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- [x] Streak —Å–∏—Å—Ç–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤ Header
- [x] –í–∫–ª–∞–¥–∫–∏ "–õ–∏—á–Ω–æ–µ" / "–ì—Ä—É–ø–ø—ã"
- [x] –ë–∞–Ω–Ω–µ—Ä "–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π"
- [x] –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

#### Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [x] Streak –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (10:00, 19:00)
- [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö –≤ –≥—Ä—É–ø–ø–µ
- [x] APScheduler –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á

#### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] –î–µ–ø–ª–æ–π –Ω–∞ Render.com
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Supabase PostgreSQL
- [x] Telegram WebHook
- [x] –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥ Frontend —á–µ—Ä–µ–∑ FastAPI

---

## üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ / –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### 1. –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –¢—É—Ç–æ—Ä–∏–∞–ª –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- –ü–æ–∫–∞–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–∑–∞–≥—Ä—É–∑–∫–∞, AI –æ–±—Ä–∞–±–æ—Ç–∫–∞, –≥—Ä—É–ø–ø—ã)
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

**–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
- Frontend: –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OnboardingModal.tsx`
- State: —Ñ–ª–∞–≥ `has_seen_onboarding` –≤ –º–æ–¥–µ–ª–∏ User
- –°—Ç–æ—Ä–∏—Ç–µ–±—É–∫: 3-4 —ç–∫—Ä–∞–Ω–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ: localStorage –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è (1 –¥–µ–Ω—å)

---

#### 2. Leaderboard –≤ –≥—Ä—É–ø–ø–∞—Ö
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–µ—Å—Ç—å QuizResult, –Ω–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞)

**–ß—Ç–æ –µ—Å—Ç—å**:
- –ú–æ–¥–µ–ª—å `QuizResult` ‚úÖ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚úÖ
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ owner'–æ–º (`GroupResultsPage.tsx`) ‚úÖ

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- –ü—É–±–ª–∏—á–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ —Å—É–º–º–µ –±–∞–ª–ª–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ percentage –∏–ª–∏ total score
- –¢–æ–ø-3 —Å –º–µ–¥–∞–ª—è–º–∏ ü•áü•àü•â
- Endpoint: `GET /groups/{id}/leaderboard`

**–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
- Backend: –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å QuizResult –ø–æ user_id (SUM, AVG)
- Frontend: –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LeaderboardTab.tsx` –≤ GroupsTab
- UI: —Ç–∞–±–ª–∏—á–Ω—ã–π –≤–∏–¥ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è (1 –¥–µ–Ω—å)

---

## üìã Phase 2 ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. AI Debate (—á–∞—Ç —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –°—Ä–µ–¥–Ω–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É
- 2 —Ä–µ–∂–∏–º–∞:
  - **–õ—ë–≥–∫–∏–π** (–ø–æ–º–æ—â–Ω–∏–∫): –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –¥–∞—ë—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏
  - **–°–ª–æ–∂–Ω—ã–π** (—Å–∫–µ–ø—Ç–∏–∫): –∑–∞–¥–∞—ë—Ç –≤—Å—Ç—Ä–µ—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ (–º–æ–¥–µ–ª—å `Conversation`)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: –≤–µ—Å—å —Ç–µ–∫—Å—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤ –ø—Ä–æ–º–ø—Ç–µ

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
- –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å `ChatMessage` (user_id, material_id, role, content)
- Endpoint: `POST /materials/{id}/chat`
- Gemini —Å system prompt –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- Frontend: `ChatViewer.tsx` —Å bubble UI

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (3-5 –¥–Ω–µ–π)

---

### 2. Vector Search (RAG)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- "–°–ø—Ä–æ—Å–∏ —Å–≤–æ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É" ‚Äî –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
- Semantic search –≤–º–µ—Å—Ç–æ LIKE
- Chunking —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã
- Embeddings —á–µ—Ä–µ–∑ Gemini `text-embedding-004`
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∏–ª–∏ Supabase Vector (pgvector)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
- –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å `TextChunk` (material_id, chunk, embedding)
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- Endpoint: `POST /search/semantic` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `query`
- Cosine similarity –¥–ª—è –ø–æ–∏—Å–∫–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (3-4 –¥–Ω—è)

---

### 3. –ê—É–¥–∏–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI Whisper API
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ AI —Ñ–æ—Ä–º–∞—Ç–∞–º–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: MP3, MP4, WAV, M4A
- –ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å `AudioService` —Å Whisper API
- Endpoint: `POST /materials/upload-audio`
- –õ–∏–º–∏—Ç—ã: –º–∞–∫—Å 50 MB, –º–∞–∫—Å 2 —á–∞—Å–∞ –∞—É–¥–∏–æ

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (4-5 –¥–Ω–µ–π)

---

### 4. Neuro-Lexicon (–∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏–∑ –≥–ª–æ—Å—Å–∞—Ä–∏—è –≤ –ª–∏—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å
- –ê–ª–≥–æ—Ä–∏—Ç–º SM-2 –¥–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ Telegram –æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏
- Gamification: –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑—É—á–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**:
- –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å `UserTerm` (user_id, term, definition, ease_factor, interval, next_review)
- Endpoint: `POST /lexicon/add-term`
- Scheduler –∑–∞–¥–∞—á–∞ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- Frontend: –≤–∫–ª–∞–¥–∫–∞ "–ú–æ–π —Å–ª–æ–≤–∞—Ä—å"

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (4-5 –¥–Ω–µ–π)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–µ–¥–µ–ª—è 1: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è MVP
1. [x] ~~–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º~~
2. [x] ~~Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è~~
3. [ ] –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. [ ] Leaderboard –≤ –≥—Ä—É–ø–ø–∞—Ö

### –ù–µ–¥–µ–ª—è 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
5. [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
6. [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (concurrent users)
7. [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î (–∏–Ω–¥–µ–∫—Å—ã)
8. [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Sentry)

### –ù–µ–¥–µ–ª—è 3: Phase 2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
9. [ ] AI Debate (—á–∞—Ç —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º)
10. [ ] Vector Search (RAG) ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø—Ä–æ—Å

---

## üí∞ –û—Ü–µ–Ω–∫–∞ –∑–∞—Ç—Ä–∞—Ç

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–º–µ—Å—è—Ü)
| –°–µ—Ä–≤–∏—Å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|---------------|-----------|
| **Render.com** (Backend) | Web Service, 512 MB RAM | $7-25 |
| **Render.com** (Frontend) | Static Site | Free |
| **Supabase** (PostgreSQL) | Free tier (500 MB, –¥–æ 2 GB) | Free ‚Üí $25/–º–µ—Å |
| **Gemini API** | ~0.01$/1K tokens, ~10K req/–¥–µ–Ω—å | ~$5-15/–º–µ—Å |
| **Telegram Bot** | WebHook, –±–µ—Å–ø–ª–∞—Ç–Ω–æ | Free |
| **APScheduler** | –í–∫–ª—é—á–µ–Ω –≤ backend | Free |
| **–ò—Ç–æ–≥–æ** | | **~$12-50/–º–µ—Å—è—Ü** |

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
| –°–µ—Ä–≤–∏—Å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|---------------|-----------|
| Render.com | 2 GB RAM, autoscale | $50-100/–º–µ—Å |
| Supabase Pro | Unlimited, pooling | $25/–º–µ—Å |
| Gemini API | ~100K req/–¥–µ–Ω—å | $50-100/–º–µ—Å |
| **–ò—Ç–æ–≥–æ** | | **~$125-225/–º–µ—Å—è—Ü** |

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Gemini API rate limits**
   - Free tier: 15 RPM, 1M tokens/–¥–µ–Ω—å
   - –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏: 429 error
   - –†–µ—à–µ–Ω–∏–µ: retry —Å exponential backoff

2. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**
   - –ú–∞–∫—Å–∏–º—É–º 20 MB
   - Render.com –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ upload: 100 MB
   - –†–µ—à–µ–Ω–∏–µ: chunked upload –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

3. **–§–æ—Ä–º–∞—Ç .doc**
   - –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è python-docx
   - –¢–æ–ª—å–∫–æ .docx
   - –†–µ—à–µ–Ω–∏–µ: –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ LibreOffice API

4. **–ê—É–¥–∏–æ/–≤–∏–¥–µ–æ**
   - –ü–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
   - –í –ø–ª–∞–Ω–∞—Ö Phase 2

5. **Concurrent AI processing**
   - –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
   - –†–µ—à–µ–Ω–∏–µ: Celery + Redis –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å | –¶–µ–ª—å |
|---------|--------------|------|
| **DAU / MAU** | –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å `/start` –∏ `/users/me` | –†–æ—Å—Ç –Ω–∞ 10% –Ω–µ–¥–µ–ª—è –∫ –Ω–µ–¥–µ–ª–µ |
| **Retention D1** | –í–µ—Ä–Ω—É–ª–∏—Å—å –Ω–∞ —Å–ª–µ–¥. –¥–µ–Ω—å | > 40% |
| **Retention D7** | –í–µ—Ä–Ω—É–ª–∏—Å—å —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é | > 20% |
| **Retention D30** | –í–µ—Ä–Ω—É–ª–∏—Å—å —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü | > 10% |
| **Conversion Free ‚Üí Pro** | –ü–ª–∞—Ç–µ–∂–∏ / –≤—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | 5-10% |
| **–ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | AVG(materials per user) | > 3 |
| **Completion rate —Ç–µ—Å—Ç–æ–≤** | –ó–∞–≤–µ—Ä—à–∏–ª–∏ / –Ω–∞—á–∞–ª–∏ | > 60% |
| **Referral rate** | –ü—Ä–∏–≥–ª–∞—Å–∏–ª–∏ –¥—Ä—É–∑–µ–π / –≤—Å–µ–≥–æ | > 15% |

---

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Unit —Ç–µ—Å—Ç—ã
- [x] `user_service.py`: —Å–æ–∑–¥–∞–Ω–∏–µ, streak, rate limit
- [x] `text_extractor.py`: PDF, DOCX, OCR
- [ ] `ai_service.py`: –º–æ–∫–∏ –¥–ª—è Gemini API
- [ ] `group_service.py`: –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ, —Ä–µ—Ñ–µ—Ä–∞–ª—ã

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] API endpoints: –ø–æ–ª–Ω—ã–π CRUD –¥–ª—è materials
- [ ] Webhook: –∏–º–∏—Ç–∞—Ü–∏—è Telegram Update
- [ ] Payment flow: mock Telegram Stars

### E2E —Ç–µ—Å—Ç—ã (Playwright)
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –ø—Ä–æ—Å–º–æ—Ç—Ä outputs
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã ‚Üí –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- [ ] –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Telegram Bot**: [@lectoaibot](https://t.me/lectoaibot)
- **Frontend Deploy**: [Render.com](https://eduai-api-tlyf.onrender.com)
- **Backend API Docs**: [/docs](https://eduai-api-tlyf.onrender.com/docs)
- **Database**: Supabase Dashboard
- **Repository**: [GitHub](https://github.com/zafarovpolat)

---

## üìù Changelog

### 2025-12-11
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
- ‚úÖ –ü–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö
- ‚úÖ Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (streak + –Ω–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö (owner view)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –Ω–∞ Supabase PostgreSQL
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### 2025-12-XX (–ø—Ä–µ–¥—ã–¥—É—â–∏–µ)
- ‚úÖ MVP –∑–∞–ø—É—Å–∫
- ‚úÖ Telegram WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ Telegram Stars –æ–ø–ª–∞—Ç–∞
- ‚úÖ Streak —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ APScheduler –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤—Å–µ–≥–æ –º–∏—Ä–∞**