# Study Buddy ‚Äî –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-12-08  
> **–°—Ç–∞—Ç—É—Å**: MVP –≥–æ—Ç–æ–≤ (~95%), –æ—Å—Ç–∞–ª–∞—Å—å –¥–æ—Ä–∞–±–æ—Ç–∫–∞ UX –∏ Phase 2 —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ì–æ—Ç–æ–≤–æ (Phase 1 ‚Äî MVP)

#### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (PDF, DOCX, TXT, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- [x] OCR –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Gemini Vision
- [x] AI –æ–±—Ä–∞–±–æ—Ç–∫–∞: Smart Notes, TL;DR, –¢–µ—Å—Ç—ã, –ì–ª–æ—Å—Å–∞—Ä–∏–π, –ö–∞—Ä—Ç–æ—á–∫–∏
- [x] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä AI-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–µ—Å—Ç—ã —Å –±–∞–ª–ª–∞–º–∏, –∫–∞—Ä—Ç–æ—á–∫–∏ —Å flip)
- [x] Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ WebApp

#### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- [x] Free —Ç–∞—Ä–∏—Ñ —Å –ª–∏–º–∏—Ç–æ–º 3 –º–∞—Ç–µ—Ä–∏–∞–ª–∞/–¥–µ–Ω—å
- [x] Pro –ø–æ–¥–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ Telegram Stars
- [x] –ü–æ–∫–∞–∑ –ª–∏–º–∏—Ç–æ–≤ –∏ Pro-–±–∞–Ω–Ω–µ—Ä

#### –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø
- [x] –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –ø–æ –∫–æ–¥—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [x] –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≥—Ä—É–ø–ø—ã
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤ –≥—Ä—É–ø–ø—É
- [x] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ `/start ref_XXX` ‚Äî –∑–∞—Å—á—ë—Ç —Ä–µ—Ñ–µ—Ä–∞–ª–∞
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ `/start group_XXX` ‚Äî –∞–≤—Ç–æ–≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
- [x] –í—ã–¥–∞—á–∞ Pro –∑–∞ 5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

#### UI/UX
- [x] –ü–∞–ø–∫–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- [x] Streak —Å–∏—Å—Ç–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤ Header
- [x] –í–∫–ª–∞–¥–∫–∏ "–õ–∏—á–Ω–æ–µ" / "–ì—Ä—É–ø–ø—ã"
- [x] –ë–∞–Ω–Ω–µ—Ä "–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π"

---

## üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ / –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### 1. –í—ã–±–æ—Ä –≥—Ä—É–ø–ø—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (UX —É–ª—É—á—à–µ–Ω–∏–µ)
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–æ

–ó–∞–≥—Ä—É–∑–∫–∞ –≤ –≥—Ä—É–ø–ø—É —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è UX —É–ª—É—á—à–µ–Ω–∏–µ:
- –°–µ–π—á–∞—Å –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≥—Ä—É–ø–ø—É ‚Üí –Ω–∞–∂–∞—Ç—å "+" ‚Üí UploadModal
- –ù—É–∂–Ω–æ: –≤ UploadModal –¥–æ–±–∞–≤–∏—Ç—å dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥—Ä—É–ø–ø—ã

```typescript
// frontend/src/components/UploadModal.tsx
// –î–æ–±–∞–≤–∏—Ç—å:
const [selectedGroupId, setSelectedGroupId] = useState<string | undefined>(groupId);
// + dropdown —Å –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü¢ –ù–∏–∑–∫–∞—è (2-3 —á–∞—Å–∞)

---

#### 2. Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–§—É–Ω–∫—Ü–∏–∏:
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ streak
- –ù–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤ –≥—Ä—É–ø–ø–µ
- –ò—Å—Ç–µ—á–µ–Ω–∏–µ Pro –ø–æ–¥–ø–∏—Å–∫–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```python
# backend/app/services/notification_service.py
async def send_streak_reminder(user: User):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Telegram Bot API"""
    await bot.send_message(
        chat_id=user.telegram_id,
        text="üî• –ù–µ –∑–∞–±—É–¥—å –ø–æ—É—á–∏—Ç—å—Å—è! –¢–≤–æ–π streak: {streak} –¥–Ω–µ–π"
    )
```

**–¢—Ä–µ–±—É–µ—Ç—Å—è**:
- Background worker (Celery/APScheduler)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è (1-2 –¥–Ω—è)

---

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### 3. –ü–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```python
# backend/app/api/routes/materials.py
@router.get("/search")
async def search_materials(
    q: str,
    current_user: User = Depends(get_current_user),
    db: AsyncSession = Depends(get_db)
):
    # Full-text search –ø–æ title –∏ raw_content
    pass
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è (1 –¥–µ–Ω—å)

---

#### 4. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
**–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–§—É–Ω–∫—Ü–∏–∏:
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –ø–∞–ø–∫—É
- –£–¥–∞–ª–µ–Ω–∏–µ (—É–∂–µ –µ—Å—Ç—å API)

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü¢ –ù–∏–∑–∫–∞—è (3-4 —á–∞—Å–∞)

---

## üìã Phase 2 ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. AI Debate (—á–∞—Ç —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É
- AI –æ—Ç–≤–µ—á–∞–µ—Ç –∫–∞–∫ "Skeptic Professor"
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞

**–¢—Ä–µ–±—É–µ—Ç—Å—è**:
```python
# –ú–æ–¥–µ–ª–∏
class DebateSession(Base):
    id, material_id, user_id, messages (JSON), created_at

# –°–µ—Ä–≤–∏—Å
async def debate_response(session_id: UUID, user_message: str):
    context = get_material_content(session.material_id)
    # Gemini —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (3-5 –¥–Ω–µ–π)

---

### 2. Neuro-Lexicon (—Å–ª–æ–≤–∞—Ä—å + –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ—Ä–º–∏–Ω—ã –∏–∑ –≥–ª–æ—Å—Å–∞—Ä–∏—è
- –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ (SM-2 –∞–ª–≥–æ—Ä–∏—Ç–º)
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è

**–ú–æ–¥–µ–ª–∏**:
```python
class UserVocabulary(Base):
    id, user_id, term, definition
    next_review_date, ease_factor, interval
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (4-5 –¥–Ω–µ–π)

---

### 3. Vector Search (RAG)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- "–°–ø—Ä–æ—Å–∏ —Å–≤–æ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É"
- –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```python
# pgvector extension
ALTER TABLE materials ADD COLUMN embedding vector(768);

# –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
embedding = await gemini_service.generate_embedding(content)
material.embedding = embedding
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (3-4 –¥–Ω—è)

---

### 4. –ê—É–¥–∏–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ Whisper
- AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è (4-5 –¥–Ω–µ–π)

---

### 5. Leaderboard –≤ –≥—Ä—É–ø–ø–∞—Ö
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üîµ –ù–∏–∑–∫–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è**:
- –†–µ–π—Ç–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ç–µ—Å—Ç–æ–≤
- –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤

**–¢—Ä–µ–±—É–µ—Ç—Å—è**:
```python
class QuizResult(Base):
    id, user_id, material_id, group_id, score, max_score, completed_at
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è (1-2 –¥–Ω—è)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–µ–¥–µ–ª—è 1: UX —É–ª—É—á—à–µ–Ω–∏—è
1. [ ] Dropdown –≤—ã–±–æ—Ä–∞ –≥—Ä—É–ø–ø—ã –≤ UploadModal
2. [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
3. [ ] –£–ª—É—á—à–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ UX

### –ù–µ–¥–µ–ª—è 2: Engagement
4. [ ] Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (streak, –≥—Ä—É–ø–ø—ã)
5. [ ] –ü–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
6. [ ] –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ù–µ–¥–µ–ª—è 3-4: Phase 2
7. [ ] Leaderboard –≤ –≥—Ä—É–ø–ø–∞—Ö
8. [ ] AI Debate (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã)

---

## üí∞ –û—Ü–µ–Ω–∫–∞ –±—é–¥–∂–µ—Ç–∞ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–º–µ—Å—è—Ü)
| –°–µ—Ä–≤–∏—Å | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|-----------|
| Render.com (Backend) | $7-25 |
| Render.com (Frontend) | Free (Static) |
| Supabase (PostgreSQL) | Free tier |
| Gemini API | –ü–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é (~$0.01/1K tokens) |
| **–ò—Ç–æ–≥–æ** | ~$10-30/–º–µ—Å—è—Ü |

### –ü—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | Gemini API | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
|--------------|------------|----------------|
| 100 DAU | ~$20/–º–µ—Å—è—Ü | ~$25 |
| 1000 DAU | ~$150/–º–µ—Å—è—Ü | ~$50 |
| 10000 DAU | ~$1000/–º–µ—Å—è—Ü | ~$200 |

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Gemini API rate limits** ‚Äî –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –≤–æ–∑–º–æ–∂–Ω—ã 429 –æ—à–∏–±–∫–∏
2. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤** ‚Äî –º–∞–∫—Å 20 MB (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ config)
3. **–§–æ—Ä–º–∞—Ç .doc** ‚Äî –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ .docx
4. **–ê—É–¥–∏–æ/–≤–∏–¥–µ–æ** ‚Äî –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å |
|---------|------|
| DAU / MAU | –†–æ—Å—Ç |
| Retention D1, D7, D30 | >40%, >20%, >10% |
| Conversion Free ‚Üí Pro | 5-10% |
| –ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | >3 |
| –ì—Ä—É–ø–ø —Å–æ–∑–¥–∞–Ω–æ | ‚Äî |
| Viral coefficient | >1.0 |

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Telegram Bot](https://t.me/studybuddy_uzbot)
- [Frontend Deploy](https://studybuddyai-qd2m.onrender.com)
- [Backend API](https://study-buddy-backend.onrender.com/docs)