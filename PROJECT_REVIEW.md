# Lecto - –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-01-XX

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Backend (`/backend`)
**–°—Ç–µ–∫**: FastAPI + PostgreSQL + SQLAlchemy + Gemini AI

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| Entry Point | `app/main.py` | FastAPI, Telegram webhook, Scheduler |
| API Routes | `app/api/routes/` | users, materials, folders, groups, processing, outputs |
| Bot | `app/bot/handlers.py` | /start, /pro, /invite, /stats + –ø–ª–∞—Ç–µ–∂–∏ |
| Models | `app/models/` | User, Material, Folder, GroupMember, AIOutput, QuizResult |
| Services | `app/services/` | AI, Payment, Processing, TextExtractor, User, Group, Material, Folder, Notification, Scheduler |
| Config | `app/core/config.py` | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è |

### Frontend (`/frontend`)
**–°—Ç–µ–∫**: React + TypeScript + Vite + Tailwind CSS

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| Entry | `src/main.tsx` | React entry point |
| Router | `src/App.tsx` | –†–æ—É—Ç–∏–Ω–≥ |
| Pages | `src/pages/` | HomePage, MaterialPage, GroupResultsPage |
| Components | `src/components/` | Header, MaterialCard, UploadModal, OutputViewer, GroupsTab, InviteBanner |
| API Client | `src/lib/api.ts` | Axios client |
| Telegram | `src/lib/telegram.ts` | WebApp SDK |
| State | `src/store/useStore.ts` | Zustand store |

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
| –§—É–Ω–∫—Ü–∏—è | Backend | Frontend | –°—Ç–∞—Ç—É—Å |
|---------|---------|----------|--------|
| –ó–∞–≥—Ä—É–∑–∫–∞ PDF/DOCX/TXT | `materials.py` | `UploadModal` | ‚úÖ |
| –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (OCR) | `text_extractor.py` | `UploadModal` | ‚úÖ |
| –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π | `materials.py` | `UploadModal` | ‚úÖ |
| –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ | `materials.py` | `UploadModal` | ‚úÖ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–º–µ | `materials.py` | `UploadModal` | ‚úÖ |

### 2. AI –û–±—Ä–∞–±–æ—Ç–∫–∞ (Gemini 2.0 Flash)
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| Smart Notes (–∫–æ–Ω—Å–ø–µ–∫—Ç) | ‚úÖ |
| TL;DR (–∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ) | ‚úÖ |
| Quiz (15-20 –≤–æ–ø—Ä–æ—Å–æ–≤, 3 —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏) | ‚úÖ |
| Glossary (–≥–ª–æ—Å—Å–∞—Ä–∏–π) | ‚úÖ |
| Flashcards (–∫–∞—Ä—Ç–æ—á–∫–∏) | ‚úÖ |
| OCR –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | ‚úÖ |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —Ç–µ–º–µ | ‚úÖ |

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä AI-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| MarkdownViewer | ‚úÖ |
| QuizViewer (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤) | ‚úÖ |
| GlossaryViewer | ‚úÖ |
| FlashcardsViewer | ‚úÖ |

### 4. Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| WebApp Init Data | ‚úÖ |
| –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ /start | ‚úÖ |
| Dev-—Ä–µ–∂–∏–º —Å X-User-ID | ‚úÖ |

### 5. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| Free —Ç–∞—Ä–∏—Ñ (3/–¥–µ–Ω—å) | ‚úÖ |
| Pro –ø–æ–¥–ø–∏—Å–∫–∞ | ‚úÖ |
| Telegram Stars –æ–ø–ª–∞—Ç–∞ | ‚úÖ |
| –ü–æ–∫–∞–∑ –ª–∏–º–∏—Ç–æ–≤ | ‚úÖ |

### 6. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –ì—Ä—É–ø–ø—ã
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã | ‚úÖ |
| –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –ø–æ –∫–æ–¥—É | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≥—Ä—É–ø–ø—ã | ‚úÖ |
| –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –≥—Ä—É–ø–ø—É | ‚úÖ |
| –ü–æ–∏—Å–∫ –≤ –≥—Ä—É–ø–ø–µ | ‚úÖ |
| –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –≥—Ä—É–ø–ø–µ | ‚úÖ |
| –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ (owner) | ‚úÖ |
| –í—ã—Ö–æ–¥ –∏–∑ –≥—Ä—É–ø–ø—ã | ‚úÖ |
| –£–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã | ‚úÖ |

### 7. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ñ. –∫–æ–¥–∞ | ‚úÖ |
| –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ | ‚úÖ |
| –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ | ‚úÖ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ `/start ref_XXX` | ‚úÖ |
| –í—ã–¥–∞—á–∞ Pro –∑–∞ 5 —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ | ‚úÖ |

### 8. Streak —Å–∏—Å—Ç–µ–º–∞
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –¢—Ä–µ–∫–∏–Ω–≥ streak | ‚úÖ |
| –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Header | ‚úÖ |
| –ö–æ–º–∞–Ω–¥–∞ /stats | ‚úÖ |

### 9. –ü–æ–∏—Å–∫ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ | ‚úÖ |
| –ü–∞–ø–∫–∏ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è | ‚úÖ |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ | ‚úÖ |

### 10. Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| Streak –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (10:00, 19:00) | ‚úÖ |
| –ù–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤ –≥—Ä—É–ø–ø–µ | ‚úÖ |
| APScheduler | ‚úÖ |

---

## ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---------|----------|-----------|
| –û–Ω–±–æ—Ä–¥–∏–Ω–≥ | –¢—É—Ç–æ—Ä–∏–∞–ª –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | üü° –°—Ä–µ–¥–Ω—è—è |
| Leaderboard | –†–µ–π—Ç–∏–Ω–≥ –≤ –≥—Ä—É–ø–ø–∞—Ö | üü° –°—Ä–µ–¥–Ω—è—è |

### üîµ Phase 2

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---------|----------|-----------|
| AI Debate | –ß–∞—Ç —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º | üî¥ –í—ã—Å–æ–∫–∞—è |
| Vector Search (RAG) | "–°–ø—Ä–æ—Å–∏ —Å–≤–æ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É" | üî¥ –í—ã—Å–æ–∫–∞—è |
| –ê—É–¥–∏–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã | Whisper —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è | üî¥ –í—ã—Å–æ–∫–∞—è |
| Neuro-Lexicon | –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ | üî¥ –í—ã—Å–æ–∫–∞—è |

---

## üìä –°—Ç–∞—Ç—É—Å –ø–æ –º–æ–¥—É–ª—è–º
Backend
‚îú‚îÄ‚îÄ Users ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Materials ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Folders ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Groups ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Referrals ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Payments ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ AI Processing ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Text Extract ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Bot Handlers ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Notifications ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îî‚îÄ‚îÄ Scheduler ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%

Frontend
‚îú‚îÄ‚îÄ HomePage ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ MaterialPage ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ UploadModal ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ GroupsTab ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ GroupResults ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ InviteBanner ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ OutputViewer ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îú‚îÄ‚îÄ Search ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
‚îî‚îÄ‚îÄ Header ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%

–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ~97%

---

## üîÑ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
- ‚úÖ Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (streak + –≥—Ä—É–ø–ø—ã)
- ‚úÖ APScheduler –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –ø–æ–∏—Å–∫ –≤ –≥—Ä—É–ø–ø–∞—Ö
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π endpoint –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –°–º–µ–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ Lecto

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| Frontend | React 18 + TypeScript + Vite |
| Styling | Tailwind CSS |
| State | Zustand |
| Backend | Python 3.11 + FastAPI |
| ORM | SQLAlchemy (async) |
| Database | PostgreSQL |
| AI | Google Gemini 2.0 Flash |
| Bot | python-telegram-bot |
| Scheduler | APScheduler |
| Deploy | Render.com |